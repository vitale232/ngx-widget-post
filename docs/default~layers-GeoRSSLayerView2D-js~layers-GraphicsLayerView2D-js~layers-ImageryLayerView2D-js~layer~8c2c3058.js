(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["default~layers-GeoRSSLayerView2D-js~layers-GraphicsLayerView2D-js~layers-ImageryLayerView2D-js~layer~8c2c3058"],{

/***/ "QFw1":
/*!************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/SDFHelper.js ***!
  \************************************************************/
/*! exports provided: buildSDF, getExtent, getSDFInfo, getSDFMetrics, getSDFSymbol */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildSDF", function() { return f; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getExtent", function() { return i; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSDFInfo", function() { return r; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSDFMetrics", function() { return s; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSDFSymbol", function() { return l; });
/* harmony import */ var _geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../geometry/support/jsonUtils.js */ "qatw");
/* harmony import */ var _Rect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Rect.js */ "Du6U");
/* harmony import */ var _packingUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./packingUtils.js */ "X4zr");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
function r(t){if(!t)return null;switch(t.type){case"CIMPointSymbol":{const n=t.symbolLayers;return n&&1===n.length?r(n[0]):null}case"CIMVectorMarker":{const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.geometry;if(!r)return null;const l=o.symbol;return!l||"CIMPolygonSymbol"!==l.type&&"CIMLineSymbol"!==l.type?null:{geom:r,asFill:"CIMPolygonSymbol"===l.type}}case"sdf":return{geom:t.geom,asFill:t.asFill}}return null}function l(t){const n=t.markerGraphics;if(!n||1!==n.length)return null;const o=n[0];if(!o)return null;const r=o.symbol;return!r||"CIMPolygonSymbol"!==r.type&&"CIMLineSymbol"!==r.type?null:r}function e(t){let n=1/0,o=-1/0,r=1/0,l=-1/0;for(const e of t)for(const t of e)t[0]<n&&(n=t[0]),t[0]>o&&(o=t[0]),t[1]<r&&(r=t[1]),t[1]>l&&(l=t[1]);return[n,r,o,l]}function i(n){return n?n.rings?e(n.rings):n.paths?e(n.paths):Object(_geometry_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_0__["isExtent"])(n)?[n.xmin,n.ymin,n.xmax,n.ymax]:null:null}function s(t,n,o,r,l){const[e,i,s,f]=t;if(s<e||f<i)return[0,0,0];const m=s-e,a=f-i,c=Math.floor(31.5),u=(128-2*(c+1))/Math.max(m,a),y=Math.round(m*u)+2*c,h=Math.round(a*u)+2*c;let x=1;if(n){x=h/u/(n.ymax-n.ymin)}let M=0,g=0;if(r)if(l){if(n&&o&&n.ymax-n.ymin>0){const t=(n.xmax-n.xmin)/(n.ymax-n.ymin);M=r.x/(o*t),g=r.y/o}}else M=r.x,g=r.y;M=.5*(n.xmax+n.xmin)+M*(n.xmax-n.xmin),g=.5*(n.ymax+n.ymin)+g*(n.ymax-n.ymin),M-=e,g-=i,M*=u,g*=u,M+=c,g+=c;return[x,M/y-.5,-(g/h-.5)]}function f(t){const o=(r=t.geom)?r.rings?r.rings:r.paths?r.paths:void 0!==r.xmin&&void 0!==r.ymin&&void 0!==r.xmax&&void 0!==r.ymax?[[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]]]:null:null;var r;const l=function(t){let o=1/0,r=-1/0,l=1/0,e=-1/0;for(const n of t)for(const t of n)t[0]<o&&(o=t[0]),t[0]>r&&(r=t[0]),t[1]<l&&(l=t[1]),t[1]>e&&(e=t[1]);return new _Rect_js__WEBPACK_IMPORTED_MODULE_1__["default"](o,l,r-o,e-l)}(o),e=Math.floor(31.5),i=(128-2*(e+1))/Math.max(l.width,l.height),s=Math.round(l.width*i)+2*e,f=Math.round(l.height*i)+2*e,a=[];for(const n of o)if(n&&n.length>1){const o=[];for(const t of n){let[n,r]=t;n-=l.x,r-=l.y,n*=i,r*=i,n+=e-.5,r+=e-.5,o.push([n,r])}if(t.asFill){const t=o.length-1;o[0][0]===o[t][0]&&o[0][1]===o[t][1]||o.push(o[0])}a.push(o)}const c=function(t,n,o,r){const l=n*o,e=new Array(l),i=r*r+1;for(let t=0;t<l;++t)e[t]=i;for(const l of t){const t=l.length;for(let i=1;i<t;++i){const t=l[i-1],s=l[i];let f,m,a,c;t[0]<s[0]?(f=t[0],m=s[0]):(f=s[0],m=t[0]),t[1]<s[1]?(a=t[1],c=s[1]):(a=s[1],c=t[1]);let u=Math.floor(f)-r,y=Math.floor(m)+r,h=Math.floor(a)-r,x=Math.floor(c)+r;u<0&&(u=0),y>n&&(y=n),h<0&&(h=0),x>o&&(x=o);const M=s[0]-t[0],g=s[1]-t[1],p=M*M+g*g;for(let r=u;r<y;r++)for(let l=h;l<x;l++){let i,f,m=(r-t[0])*M+(l-t[1])*g;m<0?(i=t[0],f=t[1]):m>p?(i=s[0],f=s[1]):(m/=p,i=t[0]+m*M,f=t[1]+m*g);const a=(r-i)*(r-i)+(l-f)*(l-f),c=(o-l-1)*n+r;a<e[c]&&(e[c]=a)}}}for(let t=0;t<l;++t)e[t]=Math.sqrt(e[t]);return e}(a,s,f,e);return t.asFill&&function(t,n,o,r,l){for(const e of t){const t=e.length;for(let i=1;i<t;++i){const t=e[i-1],s=e[i];let f,m,a,c;t[0]<s[0]?(f=t[0],m=s[0]):(f=s[0],m=t[0]),t[1]<s[1]?(a=t[1],c=s[1]):(a=s[1],c=t[1]);let u=Math.floor(f),y=Math.floor(m)+1,h=Math.floor(a),x=Math.floor(c)+1;u<r&&(u=r),y>n-r&&(y=n-r),h<r&&(h=r),x>o-r&&(x=o-r);for(let e=h;e<x;++e){if(t[1]>e==s[1]>e)continue;const i=(o-e-1)*n;for(let n=u;n<y;++n)n<(s[0]-t[0])*(e-t[1])/(s[1]-t[1])+t[0]&&(l[i+n]=-l[i+n]);for(let t=r;t<u;++t)l[i+t]=-l[i+t]}}}}(a,s,f,e,c),[m(c,e),s,f]}function m(t,n){const r=2*n,l=t.length,e=new Uint8Array(4*l);for(let n=0;n<l;++n){const l=.5-t[n]/r;Object(_packingUtils_js__WEBPACK_IMPORTED_MODULE_2__["packFloatRGBA"])(l,e,4*n)}return e}


/***/ }),

/***/ "T8sT":
/*!**************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/cim/cimAnalyzer.js ***!
  \**************************************************************/
/*! exports provided: analyzeCIMResource, analyzeCIMSymbol */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "analyzeCIMResource", function() { return j; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "analyzeCIMSymbol", function() { return N; });
/* harmony import */ var _core_string_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/string.js */ "s7YA");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Logger.js */ "6S2I");
/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/promiseUtils.js */ "9MzC");
/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../support/arcadeOnDemand.js */ "gvqN");
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../Color.js */ "nvBr");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/screenUtils.js */ "qRWG");
/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils.js */ "NrhG");
/* harmony import */ var _views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../views/2d/arcade/callExpressionWithFeature.js */ "ictz");
/* harmony import */ var _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./CIMSymbolHelper.js */ "eT81");
/* harmony import */ var _SDFHelper_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./SDFHelper.js */ "QFw1");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
const y=_core_Logger_js__WEBPACK_IMPORTED_MODULE_1__["default"].getLogger("esri.symbols.cim.cimAnalyzer");function h(e){switch(e){case"Butt":return 0;case"Square":return 2;case"Round":default:return 1}}function g(e){switch(e){case"Bevel":return 0;case"Miter":return 2;case"Round":default:return 1}}function d(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":return"center";case"Justify":return"justify"}}function S(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function v(e,t,i,o){let r;e[t]?r=e[t]:(r={},e[t]=r),r[i]=o}function b(e){const t=e.markerPlacement;return t&&t.angleToLine?1:0}async function N(e,t,r,n){const a=r||[];if(!e)return a;let l,s;const c={};if("CIMSymbolReference"!==e.type)return y.error("Expect cim type to be 'CIMSymbolReference'"),a;if(l=e.symbol,s=e.primitiveOverrides,s){const e=[];for(const i of s){const r=i.valueExpressionInfo;if(r&&t){const n=r.expression,a=Object(_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_3__["createRendererExpression"])(n,t.spatialReference,t.fields).then((e=>{e&&v(c,i.primitiveName,i.propertyName,e)}));e.push(a)}else null!=i.value&&v(c,i.primitiveName,i.propertyName,i.value)}await Object(_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__["all"])(e)}switch(l.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":!function(e,t,i,o,r,n){if(!e)return;const a=e.symbolLayers;if(!a)return;let l;const s=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__["CIMSymbolHelper"].getSize(e);"CIMPointSymbol"===e.type&&"Map"===e.angleAlignment&&(l=1);let c=a.length;for(;c--;){const f=a[c];if(!f||!1===f.enable)continue;const p=[];switch(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__["OverrideHelper"].findApplicableOverrides(f,t,p),f.type){case"CIMSolidFill":k(f,i,p,o,r);break;case"CIMPictureFill":O(f,i,p,o,r);break;case"CIMHatchFill":C(f,i,p,o,r);break;case"CIMGradientFill":P(f,i,p,o,r);break;case"CIMSolidStroke":L(f,i,p,o,r,"CIMPolygonSymbol"===e.type,s);break;case"CIMPictureStroke":M(f,i,p,o,r,"CIMPolygonSymbol"===e.type,s);break;case"CIMGradientStroke":X(f,i,p,o,r,"CIMPolygonSymbol"===e.type,s);break;case"CIMCharacterMarker":if(I(f,i,p,o,r))break;break;case"CIMPictureMarker":if(I(f,i,p,o,r))break;"CIMLineSymbol"===e.type&&(l=b(f)),x(f,i,p,o,r,l,s);break;case"CIMVectorMarker":if(I(f,i,p,o,r))break;"CIMLineSymbol"===e.type&&(l=b(f)),w(f,i,p,o,r,l,s,n);break;default:y.error("Cannot analyze CIM layer",f.type)}}}(l,s,c,t,a,n)}return a}function k(t,i,o,r,n){const a=t.primitiveName,s=Object(_utils_js__WEBPACK_IMPORTED_MODULE_6__["fromCIMColor"])(t.color),c=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString();n.push({type:"fill",templateHash:c,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,colorLocked:t.colorLocked,color:$(a,i,"Color",r,s,R),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:t.effects})}function O(t,i,o,r,n){const a=t.primitiveName,s=t.tintColor?Object(_utils_js__WEBPACK_IMPORTED_MODULE_6__["fromCIMColor"])(t.tintColor):{r:255,g:255,b:255,a:1},c=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString(),f=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString();n.push({type:"fill",templateHash:c,materialHash:0===o.length?f:()=>f,cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,color:$(a,i,"TintColor",r,s,R),height:$(a,i,"Height",r,t.height),scaleX:$(a,i,"ScaleX",r,t.scaleX),angle:$(a,i,"Rotation",r,t.rotation),offsetX:$(a,i,"OffsetX",r,t.offsetX),offsetY:$(a,i,"OffsetY",r,t.offsetY)})}function C(t,i,o,r,n){const a=["Rotation","OffsetX","OffsetY"],l=o.filter((e=>e.primitiveName!==t.primitiveName&&-1===a.indexOf(e.propertyName))),s=t.primitiveName,c=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString(),f=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(`${t.separation}${JSON.stringify(t.lineSymbol)}`).toString();n.push({type:"fill",templateHash:c,materialHash:0===o.length?f:A(f,i,l,r),cim:t,materialOverrides:l,colorLocked:t.colorLocked,effects:t.effects,color:{r:255,g:255,b:255,a:1},height:$(s,i,"Separation",r,t.separation),scaleX:1,angle:$(s,i,"Rotation",r,t.rotation),offsetX:$(s,i,"OffsetX",r,t.offsetX),offsetY:$(s,i,"OffsetY",r,t.offsetY)})}function P(t,i,o,r,n){const a=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString();n.push({type:"fill",templateHash:a,materialHash:0===o.length?a:A(a,i,o,r),cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,offsetY:0,scaleX:1})}function L(t,i,o,r,n,a,s){const c=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString(),f=t.primitiveName,m=Object(_utils_js__WEBPACK_IMPORTED_MODULE_6__["fromCIMColor"])(t.color),p=void 0!==t.width?t.width:4,u=h(t.capStyle),y=g(t.joinStyle),d=t.miterLimit;n.push({type:"line",templateHash:c,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,isOutline:a,colorLocked:t.colorLocked,effects:t.effects,color:$(f,i,"Color",r,m,R),width:$(f,i,"Width",r,p),cap:$(f,i,"CapStyle",r,u),join:$(f,i,"JoinStyle",r,y),miterLimit:$(f,i,"MiterLimit",r,d),referenceWidth:s,zOrder:Y(t.name),isDashed:!1})}function M(t,i,o,r,n,a,s){const c=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString(),f=t.primitiveName,m=Object(_utils_js__WEBPACK_IMPORTED_MODULE_6__["fromCIMColor"])(t.tintColor),p=void 0!==t.width?t.width:4,u=h(t.capStyle),y=g(t.joinStyle),d=t.miterLimit,S=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString();n.push({type:"line",templateHash:S,materialHash:0===o.length?c:()=>c,cim:t,materialOverrides:null,isOutline:a,colorLocked:t.colorLocked,effects:t.effects,color:$(f,i,"TintColor",r,m,R),width:$(f,i,"Width",r,p),cap:$(f,i,"CapStyle",r,u),join:$(f,i,"JoinStyle",r,y),miterLimit:$(f,i,"MiterLimit",r,d),referenceWidth:s,zOrder:Y(t.name),isDashed:!1})}function X(t,i,o,r,n,a,l){const s=t.primitiveName,c=void 0!==t.width?t.width:4,f=h(t.capStyle),m=g(t.joinStyle),p=t.miterLimit,u=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString();n.push({type:"line",templateHash:u,materialHash:0===o.length?u:A(u,i,o,r),cim:t,materialOverrides:null,isOutline:a,colorLocked:t.colorLocked,effects:t.effects,color:{r:128,g:128,b:128,a:1},width:$(s,i,"Width",r,c),cap:$(s,i,"CapStyle",r,f),join:$(s,i,"JoinStyle",r,m),miterLimit:$(s,i,"MiterLimit",r,p),referenceWidth:l,zOrder:Y(t.name),isDashed:!1})}function I(t,i,o,r,n){const a=t.markerPlacement;if(!a||"CIMMarkerPlacementInsidePolygon"!==a.type)return!1;const l=a,s=["Rotation","OffsetX","OffsetY"],c=o.filter((e=>e.primitiveName!==t.primitiveName&&-1===s.indexOf(e.propertyName))),f=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)).toString();return n.push({type:"fill",templateHash:f,materialHash:0===o.length?f:A(f,i,c,r),cim:t,materialOverrides:c,colorLocked:t.colorLocked,effects:t.effects,color:{r:255,g:255,b:255,a:1},height:$(l.primitiveName,i,"StepY",r,l.stepY),scaleX:1,angle:$(l.primitiveName,i,"GridAngle",r,l.gridAngle),offsetX:$(l.primitiveName,i,"OffsetX",r,l.offsetX),offsetY:$(l.primitiveName,i,"OffsetY",r,l.offsetY)}),!0}function x(t,i,o,r,n,a,s){const c=t.primitiveName,f=t.size,m=t.scaleX,p=t.rotation,u=t.offsetX,y=t.offsetY,h=Object(_utils_js__WEBPACK_IMPORTED_MODULE_6__["fromCIMColor"])(t.tintColor),g=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(`${t.url}${JSON.stringify(t.colorSubstitutions)}`).toString();let d=!1,S="";for(const e of o)e.primitiveName===c&&(void 0!==e.value?S+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(d=!0));n.push({type:"marker",templateHash:Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(t)+S).toString(),materialHash:d?()=>g:g,cim:t,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:!1,alignment:a,size:$(c,i,"Size",r,f),scaleX:$(c,i,"ScaleX",r,m),rotation:$(c,i,"Rotation",r,p),offsetX:$(c,i,"OffsetX",r,u),offsetY:$(c,i,"OffsetY",r,y),color:$(c,i,"TintColor",r,h,R),anchorPoint:t.anchorPoint,isAbsoluteAnchorPoint:"Relative"!==t.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:t.rotateClockwise,referenceSize:s,sizeRatio:1,markerPlacement:t.markerPlacement})}function w(e,t,i,o,r,n,a,l){const s=e.markerGraphics;if(!s)return;let c=0;if(e.scaleSymbolsProportionally){const t=e.frame;t&&(c=t.ymax-t.ymin)}for(const f of s)if(f){const s=f.symbol;if(!s)continue;switch(s.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":J(e,f,i,t,o,r,n,a,c,l);break;case"CIMTextSymbol":z(e,f,t,i,o,r,n,a,c)}}}function z(t,i,o,r,n,a,c,p,u){_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__["OverrideHelper"].findApplicableOverrides(i,r,[]);const y=i.geometry;if(!("x"in y)||!("y"in y))return;const h=i.symbol,g=(v=h).underline?"underline":v.strikethrough?"line-through":"none";var v;const b=function(e){let t="normal",i="normal";if(e){const o=e.toLowerCase();-1!==o.indexOf("italic")?t="italic":-1!==o.indexOf("oblique")&&(t="oblique"),-1!==o.indexOf("bold")?i="bold":-1!==o.indexOf("light")&&(i="lighter")}return{style:t,weight:i}}(h.fontStyleName);h.font={family:h.fontFamilyName,decoration:g,...b};const N=t.frame,k=y.x-.5*(N.xmin+N.xmax),O=y.y-.5*(N.ymin+N.ymax),C=t.size/u,P=t.primitiveName,L=(h.height||0)*C,M=h.angle||0,X=((h.offsetX||0)+k)*C,I=((h.offsetY||0)+O)*C,x=Object(_utils_js__WEBPACK_IMPORTED_MODULE_6__["fromCIMColor"])(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__["CIMSymbolHelper"].getFillColor(h));let w=Object(_utils_js__WEBPACK_IMPORTED_MODULE_6__["fromCIMColor"])(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__["CIMSymbolHelper"].getStrokeColor(h)),z=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__["CIMSymbolHelper"].getStrokeWidth(h);z||(w=Object(_utils_js__WEBPACK_IMPORTED_MODULE_6__["fromCIMColor"])(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__["CIMSymbolHelper"].getFillColor(h.haloSymbol)),z=h.haloSize*C);let J="";for(const e of r)e.primitiveName===P&&void 0!==e.value&&(J+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`);const H=JSON.stringify(t.effects)+Number(t.colorLocked)+JSON.stringify(t.anchorPoint)+t.anchorPointUnits+JSON.stringify(t.markerPlacement),Y=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(i)+H+J).toString();a.push({type:"text",templateHash:Y,materialHash:()=>Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(h.font)).toString(),cim:h,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,alignment:c,anchorPoint:{x:t.anchorPoint?t.anchorPoint.x:0,y:t.anchorPoint?t.anchorPoint.y:0},isAbsoluteAnchorPoint:"Relative"!==t.anchorPointUnits,fontName:h.fontFamilyName,decoration:"none",weight:"normal",style:"normal",size:$(P,o,"Size",n,L),angle:$(P,o,"Rotation",n,M),offsetX:$(P,o,"OffsetX",n,X),offsetY:$(P,o,"OffsetY",n,I),horizontalAlignment:d(h.horizontalAlignment),verticalAlignment:S(h.verticalAlignment),text:$(i.primitiveName,o,"TextString",n,i.textString,_utils_js__WEBPACK_IMPORTED_MODULE_6__["_adjustTextCase"],h.textCase),color:x,outlineColor:w,outlineSize:z,referenceSize:p,sizeRatio:1,markerPlacement:t.markerPlacement})}function J(t,i,o,r,n,a,s,c,m,y){const h=i.symbol,g=i.geometry;if(!g)return;const d=h.symbolLayers;if(!d)return;if(y)return void H(t,i,r,o,n,a,s,c,m);let S=d.length;for(;S--;){const y=d[S];if(y&&!1!==y.enable)switch(y.type){case"CIMSolidFill":case"CIMSolidStroke":{const h=Object(_SDFHelper_js__WEBPACK_IMPORTED_MODULE_9__["getExtent"])(g);if(!h)continue;const[d,S,v]=Object(_SDFHelper_js__WEBPACK_IMPORTED_MODULE_9__["getSDFMetrics"])(h,t.frame,t.size,t.anchorPoint,"Relative"!==t.anchorPointUnits),b="CIMSolidFill"===y.type,N={type:"sdf",geom:g,asFill:b},k=t.primitiveName,O=t.size,C=t.rotation||0,P=t.offsetX,L=t.offsetY,M=y.primitiveName,X=Object(_utils_js__WEBPACK_IMPORTED_MODULE_6__["fromCIMColor"])(b?_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__["CIMSymbolHelper"].getFillColor(y):_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__["CIMSymbolHelper"].getStrokeColor(y)),I=b?{r:0,g:0,b:0,a:0}:Object(_utils_js__WEBPACK_IMPORTED_MODULE_6__["fromCIMColor"])(_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__["CIMSymbolHelper"].getStrokeColor(y)),x=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__["CIMSymbolHelper"].getStrokeWidth(y);if(!b&&!x)break;let w=!1,z="";for(const e of o)e.primitiveName!==M&&e.primitiveName!==k||(void 0!==e.value?z+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(w=!0));const J=JSON.stringify({...t,markerGraphics:null}),H=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(N)).toString(),Y={type:"marker",templateHash:Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(i)+JSON.stringify(y)+J+z).toString(),materialHash:w?()=>H:H,cim:N,materialOverrides:null,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:t.scaleSymbolsProportionally,alignment:s,anchorPoint:{x:S,y:v},isAbsoluteAnchorPoint:!1,size:$(t.primitiveName,r,"Size",n,O),rotation:$(t.primitiveName,r,"Rotation",n,C),offsetX:$(t.primitiveName,r,"OffsetX",n,P),offsetY:$(t.primitiveName,r,"OffsetY",n,L),scaleX:1,frameHeight:m,rotateClockwise:t.rotateClockwise,referenceSize:c,sizeRatio:d,color:$(M,r,"Color",n,X,R),outlineColor:$(M,r,"Color",n,I,R),outlineWidth:$(M,r,"Width",n,x),markerPlacement:t.markerPlacement};a.push(Y);break}default:H(t,i,r,o,n,a,s,c,m)}}}function H(t,i,o,r,n,l,s,c,m){const p=function(e,t){return{type:e.type,enable:!0,name:e.name,colorLocked:e.colorLocked,primitiveName:e.primitiveName,anchorPoint:e.anchorPoint,anchorPointUnits:e.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:e.rotateClockwise,rotation:0,size:e.size,billboardMode3D:e.billboardMode3D,depth3D:e.depth3D,frame:e.frame,markerGraphics:[t],scaleSymbolsProportionally:e.scaleSymbolsProportionally,respectFrame:e.respectFrame,clippingPath:e.clippingPath,effects:e.effects}}(t,i);let u=[];const y=["Rotation","OffsetX","OffsetY"];u=r.filter((e=>e.primitiveName!==t.primitiveName||-1===y.indexOf(e.propertyName)));let h="";for(const e of r)void 0!==e.value&&(h+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`);const[g,d,S]=_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__["CIMSymbolHelper"].getTextureAnchor(p),v=t.primitiveName,b=t.rotation||0,N=t.offsetX||0,k=t.offsetY||0,O=Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(JSON.stringify(p)+h).toString(),C={type:"marker",templateHash:O,materialHash:0===u.length?O:A(O,o,u,n),cim:p,materialOverrides:u,colorLocked:t.colorLocked,effects:t.effects,scaleSymbolsProportionally:t.scaleSymbolsProportionally,alignment:s,anchorPoint:{x:g,y:d},isAbsoluteAnchorPoint:!1,size:t.size,rotation:$(v,o,"Rotation",n,b),offsetX:$(v,o,"OffsetX",n,N),offsetY:$(v,o,"OffsetY",n,k),color:{r:0,g:0,b:0,a:0},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:m,rotateClockwise:t.rotateClockwise,referenceSize:c,sizeRatio:S/Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__["pt2px"])(t.size),markerPlacement:t.markerPlacement};l.push(C)}function Y(e){if(e&&0===e.indexOf("Level_")){const t=parseInt(e.substr(6),10);if(NaN!==t)return t}return 0}function R(e){if(!e||0===e.length)return null;const t=new _Color_js__WEBPACK_IMPORTED_MODULE_4__["default"](e).toRgba();return{r:t[0],g:t[1],b:t[2],a:t[3]}}function $(e,t,i,o,n,a,l){const s=t[e];if(s){const e=s[i];if("string"==typeof e||"number"==typeof e||e instanceof Array)return a?a.call(null,e,l):e;if(null!=e&&e instanceof _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_3__["ArcadeExpression"])return(t,i,r)=>{let s=Object(_views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_7__["default"])(e,t,{$view:r},o.geometryType,i);return null!==s&&a&&(s=a.call(null,s,l)),null!==s?s:n}}return n}function A(t,i,o,n){for(const e of o){if(e.valueExpressionInfo){const t=i[e.primitiveName]&&i[e.primitiveName][e.propertyName];t instanceof _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_3__["ArcadeExpression"]&&(e.fn=(e,i,o)=>Object(_views_2d_arcade_callExpressionWithFeature_js__WEBPACK_IMPORTED_MODULE_7__["default"])(t,e,{$view:o},n.geometryType,i))}}return(i,r,n)=>{for(const e of o)e.fn&&(e.value=e.fn(i,r,n));return Object(_core_string_js__WEBPACK_IMPORTED_MODULE_0__["numericHash"])(t+_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__["OverrideHelper"].buildOverrideKey(o)).toString()}}function j(e,t){if(!t||0===t.length)return e;const i=JSON.parse(JSON.stringify(e));return _CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_8__["OverrideHelper"].applyOverrides(i,t),i}


/***/ }),

/***/ "ictz":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithFeature.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/Logger.js */ "6S2I");
/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ "zlDU");
/* harmony import */ var _geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../geometry/support/quantizationUtils.js */ "AIxD");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
function s(s,u,c,m,p){const g=s.referencesGeometry()&&p?function(s,u,c){const{transform:m,hasZ:p,hasM:g}=c;i.has(u)||i.set(u,function(s){const i={};switch(s){case"esriGeometryPoint":return(e,r,t,o)=>Object(_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__["unquantizePoint"])(r,i,e,t,o);case"esriGeometryPolygon":return(e,r,t,o)=>Object(_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__["unquantizePolygon"])(r,i,e,t,o);case"esriGeometryPolyline":return(e,r,t,n)=>Object(_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__["unquantizePolyline"])(r,i,e,t,n);case"esriGeometryMultipoint":return(e,r,o,n)=>Object(_geometry_support_quantizationUtils_js__WEBPACK_IMPORTED_MODULE_2__["unquantizeMultipoint"])(r,i,e,o,n);default:return _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.2d.support.arcadeOnDemand").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__["default"]("mapview-arcade",`Unable to handle geometryType: ${s}`)),e=>e}}(u));const l=i.get(u)(s.geometry,m,p,g);return{...s,geometry:l}}(u,m,p):u,l=s.repurposeFeature(g);try{return s.evaluate({...c,$feature:l})}catch(r){return _core_Logger_js__WEBPACK_IMPORTED_MODULE_0__["default"].getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",r),null}}const i=new Map;/* harmony default export */ __webpack_exports__["default"] = (s);


/***/ })

}]);
//# sourceMappingURL=default~layers-GeoRSSLayerView2D-js~layers-GraphicsLayerView2D-js~layers-ImageryLayerView2D-js~layer~8c2c3058.js.map