{"version":3,"sources":["./src/app/ngx-widget.directive.ts","./src/environments/environment.ts","./src/app/app.component.ts","./src/app/esri-map/esri-map.component.ts","./src/app/app.module.ts","./node_modules/@arcgis/core/core/workers lazy namespace object","./src/app/form-widget/form-widget.component.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Directive,\n  Input,\n  OnDestroy,\n  OnInit,\n  TemplateRef,\n  ViewContainerRef,\n} from '@angular/core';\n\nimport Expand from '@arcgis/core/widgets/Expand';\n\nimport { BehaviorSubject, combineLatest, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Directive({\n  selector: '[appNgxWidget]',\n})\nexport class NgxWidgetDirective implements OnInit, OnDestroy {\n  private readonly _destroy$ = new Subject<null>();\n\n  private hasView = false;\n  private viewElement: HTMLElement | Expand | undefined = undefined;\n\n  // Use rxjs to handle `@Input`s reactively\n  // Use the selector as the input name to accept as the default input to the directive.\n  @Input() public set appNgxWidget(val: __esri.MapView) {\n    this._view.next(val);\n  }\n\n  @Input() public set appNgxWidgetPosition(val: __esri.UIAddPosition) {\n    this._position.next(val);\n  }\n\n  @Input() public set appNgxWidgetExpand(val: boolean) {\n    this._expand.next(val);\n  }\n\n  @Input() public set appNgxWidgetExpanded(val: boolean) {\n    this._expanded.next(val);\n  }\n\n  @Input() public set appNgxWidgetExpandTooltip(val: string) {\n    this._expandTooltip.next(val);\n  }\n\n  @Input() public set appNgxWidgetExpandIconClass(val: string) {\n    this._expandIconClass.next(val);\n  }\n\n  @Input() public set appNgxWidgetChangeDetection(\n    val: ChangeDetectionStrategy\n  ) {\n    this._changeDetection.next(val);\n  }\n\n  private readonly _view = new BehaviorSubject<__esri.MapView>(undefined);\n  private readonly view$ = this._view.asObservable();\n\n  private readonly _position = new BehaviorSubject<__esri.UIAddPosition>({\n    position: 'bottom-left',\n    index: 0,\n  });\n  private readonly position$ = this._position.asObservable();\n\n  private readonly _expand = new BehaviorSubject<boolean>(false);\n  private readonly expand$ = this._expand.asObservable();\n\n  private readonly _expanded = new BehaviorSubject<boolean>(false);\n  private readonly expanded$ = this._expanded.asObservable();\n\n  private readonly _expandIconClass = new BehaviorSubject<string>(\n    'esri-icon-expand'\n  );\n  private readonly expandIconClass$ = this._expandIconClass.asObservable();\n\n  private readonly _expandTooltip = new BehaviorSubject<string>(\n    'Expand the widget'\n  );\n  private readonly expandTooltip$ = this._expandTooltip.asObservable();\n\n  private readonly _changeDetection = new BehaviorSubject<ChangeDetectionStrategy>(\n    ChangeDetectionStrategy.Default\n  );\n  private readonly changeDetection$ = this._changeDetection.asObservable();\n\n  constructor(\n    private cdr: ChangeDetectorRef,\n    private templateRef: TemplateRef<any>,\n    private viewContainerRef: ViewContainerRef\n  ) {}\n\n  ngOnInit(): void {\n    combineLatest([\n      this.view$,\n      this.position$,\n      this.expand$,\n      this.expanded$,\n      this.expandIconClass$,\n      this.expandTooltip$,\n      this.changeDetection$,\n    ])\n      .pipe(takeUntil(this._destroy$))\n      .subscribe((params) => this.handleWidget(...params));\n  }\n\n  ngOnDestroy(): void {\n    this._destroy$.next(null);\n    this._destroy$.complete();\n  }\n\n  private handleWidget(\n    view: __esri.MapView,\n    position: __esri.UIAddPosition,\n    expand: boolean,\n    expanded: boolean,\n    expandIconClass: string,\n    expandTooltip: string,\n    changeDetectionStrategy: ChangeDetectionStrategy\n  ): void {\n    if (this.hasView) {\n      this.clear(view);\n    }\n\n    if (view != null && position != null) {\n      if (expand === true) {\n        this.viewElement = new Expand({\n          expanded,\n          expandIconClass,\n          expandTooltip,\n          view,\n          content: this.render(),\n        });\n        view.ui.add(this.viewElement, position);\n      } else {\n        this.viewElement = this.render();\n        view.ui.add(this.viewElement, position);\n      }\n    }\n\n    this.markForCheck(changeDetectionStrategy);\n  }\n\n  private render(): any {\n    const embeddedView = this.viewContainerRef.createEmbeddedView(\n      this.templateRef\n    );\n\n    const element = embeddedView.rootNodes[0];\n\n    this.hasView = true;\n\n    return element;\n  }\n\n  private clear(view?: __esri.MapView): void {\n    if (view) {\n      view.ui.remove(this.viewElement);\n    }\n\n    this.viewContainerRef.clear();\n    this.hasView = false;\n    this.viewElement = null;\n  }\n\n  private markForCheck(changeDetectionStrategy: ChangeDetectionStrategy): void {\n    if (changeDetectionStrategy === ChangeDetectionStrategy.OnPush) {\n      setTimeout(() => this.cdr.markForCheck());\n    }\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  template: `\n    <h1>Angular Component as a Widget!</h1>\n\n    <app-esri-map\n      (viewReady)=\"onViewReady($event)\"\n      (layerReady)=\"onLayerReady($event)\"\n      (layerViewReady)=\"onLayerViewReady($event)\"\n    >\n      <div\n        class=\"ngx-widget\"\n        *appNgxWidget=\"\n          view;\n          position: { position: position, index: 0 };\n          expand: true;\n          expanded: true;\n          expandIconClass: 'esri-icon-search'\n        \"\n      >\n        <app-form-widget\n          [blockGroups]=\"blockGroups\"\n          (valueChange)=\"onValueChange($event)\"\n        ></app-form-widget>\n      </div>\n    </app-esri-map>\n    <div class=\"button-group\">\n      <button mat-raised-button (click)=\"onMoveWidgetClick('top-left')\">\n        Move Widget - Top Left\n      </button>\n      <button mat-raised-button (click)=\"onMoveWidgetClick('top-right')\">\n        Move Widget - Top Right\n      </button>\n    </div>\n    <div class=\"button-group\">\n      <button mat-raised-button (click)=\"onMoveWidgetClick('bottom-left')\">\n        Move Widget - Bottom Left\n      </button>\n      <button mat-raised-button (click)=\"onMoveWidgetClick('bottom-right')\">\n        Move Widget - Bottom Right\n      </button>\n    </div>\n  `,\n  styles: [\n    `\n      .ngx-widget {\n        width: 200px;\n        height: 120px;\n        background-color: white;\n        padding: 5px;\n      }\n      .button-group {\n        padding-top: 1.5rem;\n        display: flex;\n        justify-content: center;\n      }\n      button {\n        margin-right: 5px;\n      }\n    `,\n  ],\n})\nexport class AppComponent {\n  public view: __esri.MapView;\n  public layer: __esri.FeatureLayer;\n  public features: __esri.Graphic[];\n  public blockGroups: string[];\n  public position = 'bottom-right';\n\n  private layerView: __esri.FeatureLayerView;\n  private highlightHandle: __esri.Handle;\n\n  onViewReady(view: __esri.MapView) {\n    this.view = view;\n  }\n\n  onLayerReady(layer: __esri.FeatureLayer): void {\n    this.layer = layer;\n    const query = layer.createQuery();\n    query.where = '1=1';\n\n    layer.queryFeatures(query).then((featureSet) => {\n      this.features = featureSet.features;\n\n      this.blockGroups = Array.from(\n        new Set(this.features.map((feat) => feat.getAttribute('NAMELSAD')))\n      ).sort();\n    });\n  }\n\n  onValueChange(val: string): void {\n    if (this.layer && this.view) {\n      const query = this.layer.createQuery();\n      query.where = `NAMELSAD = '${val}'`;\n\n      this.layer.queryFeatures(query).then((featureSet) => {\n        this.highlightHandle?.remove();\n        this.view.goTo(featureSet.features);\n        this.highlightHandle = this.layerView.highlight(featureSet.features);\n      });\n    }\n  }\n\n  onLayerViewReady(layerView: __esri.FeatureLayerView): void {\n    this.layerView = layerView;\n  }\n\n  onMoveWidgetClick(position: string): void {\n    this.position = position;\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Output,\n  ViewChild,\n} from '@angular/core';\nimport config from '@arcgis/core/config.js';\nimport FeatureLayer from '@arcgis/core/layers/FeatureLayer';\nimport Map from '@arcgis/core/Map';\nimport MapView from '@arcgis/core/views/MapView';\nimport BasemapGallery from '@arcgis/core/widgets/BasemapGallery';\nimport Expand from '@arcgis/core/widgets/Expand';\nimport Legend from '@arcgis/core/widgets/Legend';\n\n/**\n * A simple Esri map using the beta ES Modules build.\n * This code is based on an Esri Github example. Learn more here:\n * https://github.com/vitale232/jsapi-resources/tree/master/esm-samples\n */\n@Component({\n  selector: 'app-esri-map',\n  template: ` <div #mapViewNode></div> `,\n  styles: [\n    `\n      .esri-view {\n        padding: 0;\n        margin: 0;\n        height: 60vh;\n        width: 100%;\n      }\n      #mapViewNode {\n        padding: 0;\n        margin: 0;\n        height: 60vh;\n        width: 100%;\n      }\n    `,\n  ],\n})\nexport class EsriMapComponent implements OnInit, OnDestroy {\n  @Output() public viewReady = new EventEmitter<__esri.MapView>();\n  @Output() public layerReady = new EventEmitter<__esri.FeatureLayer>();\n  @Output() public layerViewReady = new EventEmitter<__esri.LayerView>();\n\n  // The <div> where we will place the map\n  @ViewChild('mapViewNode', { static: true }) private mapViewEl: ElementRef;\n\n  private view: __esri.MapView | null = null;\n\n  constructor(private zone: NgZone) {}\n\n  ngOnInit(): any {\n    // Set this property when using routes in order to resolve the /assets correctly.\n    // IMPORTANT: the directory path may be different between your product app and your dev app\n    // config.assetsPath = \"/assets\";\n    config.assetsPath = 'assets/';\n\n    this.zone.runOutsideAngular(() => {\n      // Initialize MapView and return an instance of MapView\n      this.initializeMap().then((view) =>\n        // The map has been initialized\n        this.zone.run(() => this.viewReady.emit(view))\n      );\n    });\n  }\n\n  initializeMap(): Promise<__esri.MapView> {\n    const container = this.mapViewEl.nativeElement as HTMLDivElement;\n\n    const layer = new FeatureLayer({\n      // auto-casts to a new PortalItem\n      portalItem: {\n        id: '234d2e3f6f554e0e84757662469c26d3',\n      },\n    });\n\n    const map = new Map({\n      basemap: 'gray-vector',\n      layers: [layer],\n    });\n\n    const view = new MapView({\n      container,\n      map,\n    });\n\n    const legend = new Legend({\n      view,\n    });\n\n    const basemapGallery = new BasemapGallery({\n      view,\n    });\n\n    const legendExpand = new Expand({\n      content: legend,\n    });\n    const bgExpand = new Expand({\n      content: basemapGallery,\n    });\n\n    view.ui.add(bgExpand, 'top-right');\n    view.ui.add(legendExpand, 'bottom-left');\n\n    this.view = view;\n\n    this.createLayerView(layer, view);\n\n    layer.load().then(() => {\n      view.extent = layer.fullExtent;\n      this.zone.run(() => this.layerReady.emit(layer));\n    });\n\n    return this.view.when();\n  }\n\n  ngOnDestroy(): void {\n    if (this.view) {\n      // destroy the map view\n      this.view.destroy();\n    }\n  }\n\n  private createLayerView(\n    layer: __esri.FeatureLayer,\n    view: __esri.MapView\n  ): void {\n    view\n      .whenLayerView(layer)\n      .then((layerView) =>\n        this.zone.run(() => this.layerViewReady.emit(layerView))\n      );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { EsriMapComponent } from './esri-map/esri-map.component';\nimport { NgxWidgetDirective } from './ngx-widget.directive';\nimport { FormWidgetComponent } from './form-widget/form-widget.component';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatButtonModule } from '@angular/material/button';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    EsriMapComponent,\n    NgxWidgetDirective,\n    FormWidgetComponent,\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    ReactiveFormsModule,\n    MatSelectModule,\n    MatButtonModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"geBw\";","import {\n  Component,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output,\n} from '@angular/core';\nimport { FormBuilder, FormControl } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-form-widget',\n  template: `\n    <h3>Choose a Block Group</h3>\n\n    <form [formGroup]=\"form\">\n      <mat-form-field appearance=\"outline\">\n        <mat-label>Block Group</mat-label>\n        <mat-select formControlName=\"blockGroup\">\n          <mat-option *ngFor=\"let group of blockGroups\" [value]=\"group\">\n            {{ group }}\n          </mat-option>\n        </mat-select>\n        <mat-hint>{{ blockGroups?.length }} Block Groups Available</mat-hint>\n      </mat-form-field>\n    </form>\n  `,\n  styles: [\n    `\n      :host {\n        width: 100%;\n        padding-left: 10px;\n        padding-right: 10px;\n      }\n      form {\n        width: 100%;\n      }\n      mat-form-field {\n        width: 100%;\n      }\n      h3 {\n        margin-bottom: 0.25rem;\n        margin-top: -13px;\n      }\n    `,\n  ],\n})\nexport class FormWidgetComponent implements OnInit, OnDestroy {\n  @Input() public blockGroups: string[];\n\n  @Output() public valueChange = new EventEmitter<string>();\n\n  public form = this.fb.group({\n    blockGroup: new FormControl({ value: '' }),\n  });\n\n  private _destroy$ = new Subject<null>();\n\n  constructor(private fb: FormBuilder) {}\n\n  ngOnInit(): void {\n    this.form\n      .get('blockGroup')\n      .valueChanges.pipe(takeUntil(this._destroy$))\n      .subscribe((val) => this.valueChange.emit(val));\n  }\n\n  ngOnDestroy(): void {\n    this._destroy$.next(null);\n    this._destroy$.complete();\n  }\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}